<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Add New Product</title>
    <link rel="stylesheet" href="AddNewProd.css" />
  </head>
  <body>
    <form class="addProdForm">
      <div class="formLeft">
        <label for="prodName">Product Name</label>
        <input
          class="inputTextField"
          type="text"
          name="prodName"
          id="prodName"
          max="20"
          required
        />
        <label for="uprice">Unit Price</label>
        <input
          class="inputTextField"
          type="text"
          name="uprice"
          id="uprice"
          max="10"
          required
        />
        <label for="catag">Catagory</label>
        <select class="inputTextField" name="catag" id="catag" required>
          <option value="other" selected>Others</option>
          <option value="Electronics">Electronics</option>
        </select>
        <label for="stock">Initial Stock</label>
        <input
          class="inputTextField"
          type="text"
          name="stock"
          id="stock"
          max="20"
          required
        />
        <label for="textArea">Description</label>
        <textarea
          name="textArea"
          id="textArea"
          class="inputTextArea"
          cols="35"
          rows="5"
          required
          placeholder="Product Description Here!"
        ></textarea>
      </div>
      <div class="formRight">
        <label for="imageUploadArea">Upload Product Images</label>
        <div class="imageUploadArea">
          <div class="allImageUploadPanel" id="imgFile1Panel">
            <img src="../icons/imagePlaceholder.png" alt="" class="img_plus"/>

            <input type="file" id="imgFile1" accept="images/*" />
            <label for="imgFile1"></label>
          </div>
          <div class="allImageUploadPanel" id="imgFile2Panel">
            <img src="../icons/imagePlaceholder.png" alt="" />
            <input type="file" id="imgFile2" accept="images/*" />
            <label for="imgFile2"></label>
          </div>
          <div class="allImageUploadPanel" id="imgFile3Panel">
            <img src="../icons/imagePlaceholder.png" alt="" />

            <input type="file" id="imgFile3" accept="images/*" />
            <label for="imgFile3"></label>
          </div>
          <div class="allImageUploadPanel" id="imgFile4Panel">
            <img src="../icons/imagePlaceholder.png" alt="" />
            <input type="file" id="imgFile4" accept="images/*" />
            <label for="imgFile4"></label>
          </div>
        </div>
        <input
          class="submitButton"
          type="submit"
          value="Add Product"
          name="addProd"
        />
        <input
          onclick="clearImages()"
          class="resetButton"
          type="reset"
          value="Clear"
        />
      </div>

      <!-- below is a script to upload and display images on the image panels/div -->
      <script>
        function previewBeforeUpload(id) {
          document
            .querySelector("#" + id)
            .addEventListener("change", function (e) {
              if (e.target.files.length == 0) {
                return 0;
              }
              let file = e.target.files[0];
              let url = URL.createObjectURL(file);
              document.querySelector("#" + id + "Panel" + " " + "img").src =
                url;
            });
        }
        previewBeforeUpload("imgFile1");
        previewBeforeUpload("imgFile2");
        previewBeforeUpload("imgFile3");
        previewBeforeUpload("imgFile4");

        // below is function to reset panel images when reset/clear button pressed
        function clearImages() {
          let img = document.querySelector("#imgFile1Panel img");
          img.src = "../icons/imagePlaceholder.png";
          img = document.querySelector("#imgFile2Panel img");
          img.src = "../icons/imagePlaceholder.png";
          img = document.querySelector("#imgFile3Panel img");
          img.src = "../icons/imagePlaceholder.png";
          img = document.querySelector("#imgFile4Panel img");
          img.src = "../icons/imagePlaceholder.png";
        }
      </script>
    </form>
  </body>
</html>
